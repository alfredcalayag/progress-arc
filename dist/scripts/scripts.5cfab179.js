(function(){"use strict";angular.module("progressArcApp",["ngAnimate","ngAria","ngCookies","ngResource","ngRoute","ngSanitize"]).config(["$routeProvider",function(a){return a.when("/demo",{templateUrl:"views/demo.html",controller:"DemoCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/demo"})}]).factory("$exceptionHandler",["$injector",function(a){return function(b,c){var d;return d=a.get("$rootScope"),d.errors=d.errors||[],d.errors.push(b),console.log(b+"\nCause: "+c)}}])}).call(this),function(){"use strict";var a;a=function(a,b,c){return{restrict:"E",scope:{actual:"<",expected:"<",label:"<",radius:"<"},link:function(d,e,f){var g,h,i;if(!c.isValidFloat(d.actual)||!c.isValidFloat(d.expected))throw TypeError("Input should be a number between 0 and 1.0");return i=d3.select(e[0]).append("svg").attr("class","progress-arc").attr("width",2*d.radius||200).attr("height",2*d.radius||200),h=i.append("g").attr("transform","translate(100, 100)").selectAll("path").data(a.arcData(d.actual,d.expected)).enter().append("path").attr("d",function(b){return b.hasTransition?a.initialState(b):a.endState(b)}).attr("class",function(a){return a.type+"-"+a.name}).style("fill",function(a){return a.fill}),g=i.append("text").data(a.displayData(d.actual)).attr("transform","translate(100, 100)").attr("class","value").text(function(a){return"0"}),i.append("text").attr("transform","translate(100, 100)").attr("class","label").attr("y",function(a){return 20}).text(function(a){return d.label||"Progress"}),i.append("text").attr("transform","translate(100, 100)").attr("class","format").attr("x",33).text(function(a){return"%"}),h.filter(function(a){return a.hasTransition}).transition().delay(50).duration(2e3).style("fill",function(a){return a.hasColorTransition?b.getMoodColor(d.actual,d.expected):a.fill}).attrTween("d",function(b){return a.tween[b.type](b)}),g.transition().delay(50).duration(2e3).tween("text",function(b){return a.tween[b.type](this,b)})}}},a.$inject=["Arc","Color","Conversion"],angular.module("progressArcApp").directive("progressArc",a)}.call(this),function(){"use strict";var a;a=function(){var a,b;return b={red:"rgb(255, 0, 0)",orange:"rgb(255, 140, 0)",green:"rgb(120, 192, 0)",lightGreen:"rgba(120, 192, 0, 0.5)",lightGray:"rgb(244, 244, 244)"},a=function(a,c){var d;return d=c-a,d>=.5?b.red:d>=.25?b.orange:b.green},{getMoodColor:a,defaultColor:b.green,primary:b.green,secondary:b.lightGreen,base:b.lightGray}},angular.module("progressArcApp").factory("Color",a)}.call(this),function(){"use strict";var a;a=function(){var a,b,c;return b=function(a){return 360*a*Math.PI/180},a=function(a){return Math.round(100*a)},c=function(a){return a>=0&&a<=1},{floatToRadians:b,floatToPercent:a,isValidFloat:c}},angular.module("progressArcApp").factory("Conversion",a)}.call(this),function(){"use strict";var a;a=function(a,b){var c,d,e,f,g,h,i;return c=function(c,d,e){return null==e&&(e=100),[{name:"base",type:"path",fill:a.base,innerRadius:0,outerRadius:.65*e,cornerRadius:2*Math.PI,startAngle:0,endAngle:2*Math.PI},{name:"actual",type:"path",fill:a.primary,innerRadius:.8*e,outerRadius:.95*e,cornerRadius:2*Math.PI,startAngle:0,endAngle:b.floatToRadians(c),displayValue:b.floatToPercent(c),hasTransition:!0,hasColorTransition:!0},{name:"expected",type:"path",fill:a.secondary,innerRadius:.7*e,outerRadius:.75*e,cornerRadius:2*Math.PI,startAngle:0,endAngle:b.floatToRadians(d),hasTransition:!0}]},e=function(a){return[{type:"number",value:b.floatToPercent(a)}]},g=d3.arc().innerRadius(function(a){return a.innerRadius}).outerRadius(function(a){return a.outerRadius}).startAngle(function(a){return 0}).endAngle(function(a){return 0}).cornerRadius(function(a){return a.cornerRadius}),f=d3.arc().innerRadius(function(a){return a.innerRadius}).outerRadius(function(a){return a.outerRadius}).startAngle(function(a){return a.startAngle}).endAngle(function(a){return a.endAngle}).cornerRadius(function(a){return a.cornerRadius}),d=function(a){var b;return b=d3.interpolate(a.startAngle,a.endAngle),function(c){return a.endAngle=b(c),f(a)}},h=function(a,b){var c;return c=d3.interpolate(0,b.value),function(b){return a.textContent=Math.round(c(b))}},i={path:d,number:h},{arcData:c,displayData:e,initialState:g,endState:f,tween:i}},a.$inject=["Color","Conversion"],angular.module("progressArcApp").factory("Arc",a)}.call(this),function(){"use strict";var a;a=function(){var a;a=this,a.data=[{actual:.9,expected:.7,radius:100},{actual:.52,expected:.78,radius:100},{actual:.13,expected:.65,radius:100}]},angular.module("progressArcApp").controller("DemoCtrl",a)}.call(this),angular.module("progressArcApp").run(["$templateCache",function(a){"use strict";a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/demo.html",'<div style="display:block">DEMO:</div> <div style="text-align:center"> <div ng-repeat="data in vm.data" style="display:inline-block"> <progress-arc actual="data.actual" expected="data.expected" radius="data.radius"></progress-arc> <div style="display:block"> <span style="display:block">Actual: {{ data.actual }}</span> <span style="display:block">Expected: {{ data.expected }}</span> </div> </div> </div>'),a.put("views/main.html",'<div> <p>We\'re not here to take part. We\'re here to take over!</p> <progress-arc actual="0.88" expected="0.99" label="\'Progress\'"> </progress-arc> </div>'),a.put("views/templates/mytestdirective.html","<div>Description: {{ vm.description }}</div>"),a.put("views/templates/progress-arc.html",'<div class="progress-arc-container"> </div>')}]);